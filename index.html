
<!DOCTYPE html>  <html lang="ko">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">  
    <title>ìœ¤ì„œì§±</title>  
    <style>  
        * { 
    margin: 0; 
    padding: 0; 
    box-sizing: border-box; 
}  

body {   
    font-family: Arial, sans-serif;   
    text-align: center;   
    background: #f4f4f4;   
    touch-action: none;   
    display: flex;   
    flex-direction: column;   
    align-items: center;   
    height: 100vh;  
    justify-content: flex-start;  
}  

#header {  
    background: linear-gradient(45deg, #ff9800, #ff5722);  
    color: white;  
    padding: 15px 0;  
    font-size: 1.2rem;  
    font-weight: bold;  
    border-bottom: 5px solid #d84315;  
    width: 100%;  
}  

/* ğŸ“Œ ê²Œì„ ì»¨í…Œì´ë„ˆ (ë°˜ì‘í˜• ì ìš©) */
#game-container {  
    width: 90vw;  /* í™”ë©´ ë„ˆë¹„ì˜ 90% */
    max-width: 600px;  /* ìµœëŒ€ í¬ê¸° ì œí•œ */
    min-width: 320px;  /* ìµœì†Œ í¬ê¸° ì œí•œ */
    background: white;  
    padding: 10px;  
    border-radius: 10px;  
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);  
    display: flex;  
    flex-direction: column;  
    align-items: center;  
}  

/* ğŸ“Œ ê²Œì„ ë³´ë“œ (ë°˜ì‘í˜• ì ìš©) */
#game-board {  
    display: grid;  
    grid-template-columns: repeat(auto-fit, minmax(30px, 1fr)); /* ê°€ë³€ í¬ê¸° ì„¤ì • */
    gap: 5px;  
    width: 100%;  
    max-width: 90vw;  
}  

/* ğŸ“Œ ìˆ«ì ë²„íŠ¼ (ë°˜ì‘í˜• ì ìš©) */
.apple {  
    width: 10vw;  /* ë·°í¬íŠ¸ ê¸°ì¤€ í¬ê¸° */
    max-width: 60px;  /* ìµœëŒ€ í¬ê¸° ì œí•œ */
    min-width: 30px;  /* ìµœì†Œ í¬ê¸° ì œí•œ */
    aspect-ratio: 1;  /* ì •ì‚¬ê°í˜• ìœ ì§€ */
    background: orange;  
    color: white;  
    font-size: clamp(1rem, 2vw, 1.5rem);  /* ë°˜ì‘í˜• ê¸€ì í¬ê¸° */
    display: flex;  
    align-items: center;  
    justify-content: center;  
    border-radius: 50%;  
    user-select: none;  
    transition: background 0.2s;  
    visibility: visible;  
}  

/* ì„ íƒëœ ìˆ«ì ê°•ì¡° */
.selected { 
    background: red; 
}  

/* ë²„íŠ¼ ì»¨í…Œì´ë„ˆ */
.btn-container {  
    display: flex;  
    justify-content: center;  
    gap: 10px;  
    margin-top: 15px;  
}  

button {  
    padding: 12px 20px;  
    font-size: 1rem;  
    cursor: pointer;  
    border: none;  
    border-radius: 5px;  
    color: white;  
}  

#restart-btn { background: #007bff; }  
#pause-btn { background: #ff5722; }  
#resume-btn { background: #4caf50; display: none; }  

/* ë‚¨ì€ ì‹œê°„ ê¹œë¹¡ì„ íš¨ê³¼ */
@keyframes blink {  
    0% { color: red; }  
    50% { color: white; }  
    100% { color: red; }  
}  

#timer.blinking {  
    animation: blink 1s infinite;  
}
    </style>  
</head>  
<body>  <div id="header">  
    <h1>10ì  ë§Œë“¤ê¸° by ìœ¤ì„œ</h1>  
    <p>ë‚¨ì€ì‹œê°„ [ <span id="timer">120ì´ˆ</span> ] ì ìˆ˜ [ <span id="score">0ì </span> ]</p>  
</div>  <div id="game-container">  
    <div id="game-board"></div>  
    <div class="btn-container">  
        <button id="restart-btn">ë‹¤ì‹œí•˜ê¸°</button>  
        <button id="pause-btn">ì¼ì‹œì •ì§€</button>  
        <button id="resume-btn">ê³„ì†í•˜ê¸°</button>  
    </div>  
</div>  <script>  
    const ROWS = 12, COLS = 10, boardSize = ROWS * COLS;  
    let selectedApples = [], apples = [], isDragging = false, score = 0;  
    let startIdx = null, endIdx = null, timer = 120, timerInterval, isPaused = false;  
    const sound = new Audio('https://blog.kakaocdn.net/dn/KOcNd/btsHuy2pZbW/N4YgWdF6Kdc1nVRZkEzdhk/%EA%B3%A0%EC%A0%84%20%EB%9D%B5%EB%8F%99%20%28%EC%A0%95%EB%8B%B5.mp3?attach=1&knm=tfile.mp3');  
  
    function getRowCol(index) {  
        return { row: Math.floor(index / COLS), col: index % COLS };  
    }  
  
    function generateSolvableNumbers() {  
        let numbers = [], availablePairs = [];  
        for (let i = 1; i <= 9; i++) availablePairs.push([i, 10 - i]);  
        while (numbers.length < boardSize) {  
            let pair = availablePairs[Math.floor(Math.random() * availablePairs.length)];  
            numbers.push(pair[0], pair[1]);  
        }  
        return numbers.sort(() => Math.random() - 0.5);  
    }  
  
    function createBoard() {  
        clearInterval(timerInterval);  
        document.getElementById("timer").textContent = timer = 120;  
        document.getElementById("score").textContent = "0ì ";  
        score = 0;  
        isPaused = false;  
        document.getElementById("resume-btn").style.display = "none";  
        document.getElementById("pause-btn").style.display = "inline-block";  
  
        const board = document.getElementById("game-board");  
        board.innerHTML = "";  
        apples = generateSolvableNumbers();  
        for (let i = 0; i < boardSize; i++) {  
            const apple = document.createElement("div");  
            apple.classList.add("apple");  
            apple.textContent = apples[i];  
            apple.dataset.index = i;  
            apple.addEventListener("touchstart", startSelection);  
            apple.addEventListener("touchmove", selectApple);  
            apple.addEventListener("touchend", endSelection);  
            board.appendChild(apple);  
        }  
        startTimer();  
    }  
  
    function startSelection(event) {  
    event.preventDefault();  
    if (isPaused) return;  
    isDragging = true;  
    selectedApples = [];  
    startIdx = Number(event.target.dataset.index);  
    selectApple(event);  
  
    // í„°ì¹˜ ê° ìˆëŠ” ì”ì§„ë™ ì¶”ê°€ (50ms ì§„ë™)  
    if (navigator.vibrate) navigator.vibrate(50);  
}  
  
    function selectApple(event) {  
        event.preventDefault();  
        if (!isDragging || isPaused) return;  
        const apple = document.elementFromPoint(event.touches[0].clientX, event.touches[0].clientY);  
        if (!apple || !apple.classList.contains("apple")) return;  
  
        endIdx = Number(apple.dataset.index);  
        updateSelection();  
    }  
  
    function updateSelection() {  
        selectedApples.forEach(apple => apple.classList.remove("selected"));  
        selectedApples = [];  
  
        if (startIdx === null || endIdx === null) return;  
  
        let { row: startRow, col: startCol } = getRowCol(startIdx);  
        let { row: endRow, col: endCol } = getRowCol(endIdx);  
  
        let minRow = Math.min(startRow, endRow);  
        let maxRow = Math.max(startRow, endRow);  
        let minCol = Math.min(startCol, endCol);  
        let maxCol = Math.max(startCol, endCol);  
  
        for (let r = minRow; r <= maxRow; r++) {  
            for (let c = minCol; c <= maxCol; c++) {  
                let index = r * COLS + c;  
                let apple = document.querySelector(`.apple[data-index='${index}']`);  
                if (apple && apple.style.visibility !== "hidden") {  
                    apple.classList.add("selected");  
                    selectedApples.push(apple);  
                }  
            }  
        }  
    }  
  
    function endSelection() {  
        isDragging = false;  
        if (isPaused) return;  
  
        let sum = selectedApples.reduce((acc, apple) => acc + Number(apple.textContent), 0);  
        if (sum === 10) {  
            selectedApples.forEach(apple => apple.style.visibility = "hidden");  
            sound.play();  
            score += selectedApples.length * 2;  
            document.getElementById("score").textContent = `${score}ì `;  
        }  
        selectedApples.forEach(apple => apple.classList.remove("selected"));  
    }  
  
    function startTimer() {  
        timerInterval = setInterval(() => {  
            if (!isPaused) {  
                timer--;  
                document.getElementById("timer").textContent = `${timer}ì´ˆ`;  
                if (timer <= 10) document.getElementById("timer").classList.add("blinking");  
                if (timer <= 0) clearInterval(timerInterval);  
            }  
        }, 1000);  
    }  
  
    document.getElementById("restart-btn").addEventListener("click", createBoard);  
    document.getElementById("pause-btn").addEventListener("click", () => { isPaused = true; document.getElementById("pause-btn").style.display = "none"; document.getElementById("resume-btn").style.display = "inline-block"; });  
    document.getElementById("resume-btn").addEventListener("click", () => { isPaused = false; document.getElementById("resume-btn").style.display = "none"; document.getElementById("pause-btn").style.display = "inline-block"; });  
  
    createBoard();  
</script>  </body>  
</html>